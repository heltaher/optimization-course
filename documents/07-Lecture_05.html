<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture_05 ‚Äì  Design Optimization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<link href="../documents/08-Lecture_06.html" rel="next">
<link href="../documents/06-Lecture_04.html" rel="prev">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-eef78bce6e6d37c27bc985c3ac861da9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../documents/images/logo.png" alt="Course Logo" class="navbar-logo light-content">
    <img src="../documents/images/logo.png" alt="Course Logo" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Design Optimization</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://youtu.be/qX4hefYY4h8"> <i class="bi bi-youtube" role="img" aria-label="Course Videos on YouTube">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/heltaher/optimization-course"> <i class="bi bi-github" role="img" aria-label="Course Material on GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../documents/02-about.html" aria-current="page"> <i class="bi bi-book" role="img" aria-label="Course Contents">
</i> 
<span class="menu-text">Course Overview:</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../documents/03-Lecture_01.html">üìñ Lectures</a></li><li class="breadcrumb-item"><a href="../documents/07-Lecture_05.html">Lecture 5: Lagrangian Methods</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üè† Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/02-about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üìö Course Contents</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">üìñ Lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/03-Lecture_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1: Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/04-Lecture_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 2: Problem Formulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/05-Lecture_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3: Graphical Solution Method and Basic Optimization Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/06-Lecture_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 4: Linear Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/07-Lecture_05.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lecture 5: Lagrangian Methods</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/08-Lecture_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 6: Numerical Methods</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/09-Lecture_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 7: Applications</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/10-Study_Guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üìù Study Guide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documents/11-questions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">‚ùì Quiz Questions</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lecture-5-lagrangian-methods-for-optimum-design" id="toc-lecture-5-lagrangian-methods-for-optimum-design" class="nav-link active" data-scroll-target="#lecture-5-lagrangian-methods-for-optimum-design">Lecture 5: Lagrangian Methods for Optimum Design</a>
  <ul class="collapse">
  <li><a href="#general-nonlinear-programming-problem-nlp" id="toc-general-nonlinear-programming-problem-nlp" class="nav-link" data-scroll-target="#general-nonlinear-programming-problem-nlp">General Nonlinear Programming Problem (NLP)</a></li>
  <li><a href="#the-lagrangian-function" id="toc-the-lagrangian-function" class="nav-link" data-scroll-target="#the-lagrangian-function">The Lagrangian Function</a></li>
  <li><a href="#karushkuhntucker-kkt-necessary-conditions" id="toc-karushkuhntucker-kkt-necessary-conditions" class="nav-link" data-scroll-target="#karushkuhntucker-kkt-necessary-conditions">Karush‚ÄìKuhn‚ÄìTucker (KKT) Necessary Conditions</a></li>
  <li><a href="#second-order-conditions-brief-mention" id="toc-second-order-conditions-brief-mention" class="nav-link" data-scroll-target="#second-order-conditions-brief-mention">Second-Order Conditions (Brief Mention)</a></li>
  <li><a href="#solved-example-minimum-distance-to-origin-with-a-linear-constraint" id="toc-solved-example-minimum-distance-to-origin-with-a-linear-constraint" class="nav-link" data-scroll-target="#solved-example-minimum-distance-to-origin-with-a-linear-constraint">Solved Example: Minimum Distance to Origin with a Linear Constraint</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../documents/03-Lecture_01.html">üìñ Lectures</a></li><li class="breadcrumb-item"><a href="../documents/07-Lecture_05.html">Lecture 5: Lagrangian Methods</a></li></ol></nav></header>




<section id="lecture-5-lagrangian-methods-for-optimum-design" class="level1">
<h1>Lecture 5: Lagrangian Methods for Optimum Design</h1>
<p>In our journey through Design Optimization, we‚Äôve progressed from graphically understanding basic optimization concepts to systematically solving linear problems using Linear Programming. Today, we confront the more general and pervasive class of problems in engineering: <strong>Nonlinear Programming (NLP)</strong>. Unlike LP, where everything is linear, NLP problems involve objective functions or constraints (or both) that are nonlinear. For these complex problems, we often cannot rely on simple graphical methods or direct algebraic solutions beyond very small cases.</p>
<p>This lecture introduces a fundamental analytical technique for solving constrained nonlinear optimization problems: <strong>Lagrangian Methods</strong>. The cornerstone of this approach is the <strong>Karush‚ÄìKuhn‚ÄìTucker (KKT) necessary conditions</strong>, which provide a set of equations that must be satisfied at any local optimum point of a constrained optimization problem.</p>
<p>By the end of this lecture, you will be able to define the Lagrangian function, state and interpret the Karush‚ÄìKuhn‚ÄìTucker (KKT) necessary conditions, and apply these conditions to find candidate optimum solutions for constrained nonlinear design problems.</p>
<section id="general-nonlinear-programming-problem-nlp" class="level3">
<h3 class="anchored" data-anchor-id="general-nonlinear-programming-problem-nlp">General Nonlinear Programming Problem (NLP)</h3>
<p>Recall the general mathematical model for an optimum design problem we formulated in Lecture 2:</p>
<p><strong>Find</strong> the design variable vector <span class="math inline">\(\mathbf{x} = (x_1, x_2, ..., x_n)\)</span></p>
<p><strong>To minimize (or maximize)</strong> the objective function <span class="math inline">\(f(\mathbf{x})\)</span></p>
<p><strong>Subject to:</strong> * Equality constraints: <span class="math inline">\(h_k(\mathbf{x}) = 0\)</span>, for <span class="math inline">\(k = 1, ..., p\)</span> * Inequality constraints: <span class="math inline">\(g_j(\mathbf{x}) \le 0\)</span>, for <span class="math inline">\(j = 1, ..., m\)</span> * Side constraints (bounds): <span class="math inline">\(x_{iL} \le x_i \le x_{iU}\)</span>, for <span class="math inline">\(i = 1, ..., n\)</span></p>
<p>For Lagrangian methods, we often treat the side constraints as general inequality constraints. So, the problem can be viewed as: Minimize <span class="math inline">\(f(\mathbf{x})\)</span> subject to <span class="math inline">\(h_k(\mathbf{x}) = 0\)</span> and <span class="math inline">\(g_j(\mathbf{x}) \le 0\)</span>. The functions <span class="math inline">\(f(\mathbf{x})\)</span>, <span class="math inline">\(h_k(\mathbf{x})\)</span>, and <span class="math inline">\(g_j(\mathbf{x})\)</span> can be nonlinear.</p>
</section>
<section id="the-lagrangian-function" class="level3">
<h3 class="anchored" data-anchor-id="the-lagrangian-function">The Lagrangian Function</h3>
<p>The central idea behind Lagrangian methods is to transform a constrained optimization problem into an unconstrained one by introducing a new function called the <strong>Lagrangian function</strong>, <span class="math inline">\(L\)</span>. This function incorporates all the constraints into the objective function using special coefficients called <strong>Lagrange multipliers</strong>.</p>
<p>The <strong>Lagrangian function</strong> for a general NLP problem is defined as: <span class="math inline">\(L(\mathbf{x}, \mathbf{v}, \mathbf{u}) = f(\mathbf{x}) + \sum_{k=1}^{p} v_k h_k(\mathbf{x}) + \sum_{j=1}^{m} u_j g_j(\mathbf{x})\)</span></p>
<p>Where: * <span class="math inline">\(f(\mathbf{x})\)</span> is the objective function. * <span class="math inline">\(h_k(\mathbf{x})\)</span> are the equality constraints. * <span class="math inline">\(g_j(\mathbf{x})\)</span> are the inequality constraints. * <span class="math inline">\(v_k\)</span> are the <strong>Lagrange multipliers</strong> associated with the equality constraints <span class="math inline">\(h_k(\mathbf{x})\)</span>. These are unrestricted in sign. * <span class="math inline">\(u_j\)</span> are the <strong>Lagrange multipliers</strong> associated with the inequality constraints <span class="math inline">\(g_j(\mathbf{x})\)</span>. These must be non-negative.</p>
<p>The Lagrange multipliers <span class="math inline">\(v_k\)</span> and <span class="math inline">\(u_j\)</span> are additional variables introduced into the problem. We are now looking for an optimum point <span class="math inline">\((\mathbf{x}^*, \mathbf{v}^*, \mathbf{u}^*)\)</span> that satisfies certain conditions.</p>
</section>
<section id="karushkuhntucker-kkt-necessary-conditions" class="level3">
<h3 class="anchored" data-anchor-id="karushkuhntucker-kkt-necessary-conditions">Karush‚ÄìKuhn‚ÄìTucker (KKT) Necessary Conditions</h3>
<p>For a given NLP problem, if a design point <span class="math inline">\(\mathbf{x}^*\)</span> is a local minimum, and certain regularity conditions (like constraint qualifications, which are typically satisfied for well-behaved engineering problems) hold, then there must exist Lagrange multipliers <span class="math inline">\(\mathbf{v}^*\)</span> and <span class="math inline">\(\mathbf{u}^*\)</span> such that the <strong>Karush‚ÄìKuhn‚ÄìTucker (KKT) necessary conditions</strong> are satisfied. These conditions essentially generalize the concept of finding where the gradient is zero for unconstrained optimization to problems with constraints.</p>
<p>The KKT conditions are:</p>
<ol type="1">
<li><p><strong>Gradient of the Lagrangian with respect to design variables must be zero</strong>: <span class="math inline">\(\frac{\partial L}{\partial x_i}(\mathbf{x}^*, \mathbf{v}^*, \mathbf{u}^*) = \frac{\partial f}{\partial x_i}(\mathbf{x}^*) + \sum_{k=1}^{p} v_k^* \frac{\partial h_k}{\partial x_i}(\mathbf{x}^*) + \sum_{j=1}^{m} u_j^* \frac{\partial g_j}{\partial x_i}(\mathbf{x}^*) = 0 \quad \text{for } i = 1, \ldots, n\)</span> This condition ensures that at the optimum, the gradient of the objective function is a linear combination of the gradients of the active constraints. Geometrically, it means that the objective function‚Äôs gradient is ‚Äúaligned‚Äù with the combined gradients of the active constraints, preventing further improvement without violating constraints.</p></li>
<li><p><strong>Feasibility of all constraints</strong>: <span class="math inline">\(h_k(\mathbf{x}^*) = 0 \quad \text{for } k = 1, \ldots, p\)</span> <span class="math inline">\(g_j(\mathbf{x}^*) \le 0 \quad \text{for } j = 1, \ldots, m\)</span> The optimal solution must satisfy all the original problem‚Äôs constraints.</p></li>
<li><p><strong>Complementary Slackness Conditions</strong>: <span class="math inline">\(u_j^* g_j(\mathbf{x}^*) = 0 \quad \text{for } j = 1, \ldots, m\)</span> This is a crucial condition for inequality constraints. It implies that for each inequality constraint <span class="math inline">\(g_j(\mathbf{x}^*)\)</span>:</p>
<ul>
<li>If <span class="math inline">\(g_j(\mathbf{x}^*) &lt; 0\)</span> (the constraint is inactive, meaning the optimal solution is strictly within its allowable region), then its corresponding Lagrange multiplier <span class="math inline">\(u_j^*\)</span> must be zero.</li>
<li>If <span class="math inline">\(u_j^* &gt; 0\)</span>, then the constraint <span class="math inline">\(g_j(\mathbf{x}^*)\)</span> must be active (i.e., <span class="math inline">\(g_j(\mathbf{x}^*) = 0\)</span>), meaning the optimal solution lies on the boundary defined by this constraint. This condition helps to determine which inequality constraints are active at the optimum.</li>
</ul></li>
<li><p><strong>Non-negativity of Lagrange multipliers for inequality constraints</strong>: <span class="math inline">\(u_j^* \ge 0 \quad \text{for } j = 1, \ldots, m\)</span> Lagrange multipliers for inequality constraints cannot be negative. This is consistent with the physical interpretation that relaxing a constraint (making its limit less restrictive) should not worsen the objective for a minimization problem. If <span class="math inline">\(u_j &lt; 0\)</span>, it means relaxing that constraint would make the objective <em>worse</em>, which is contradictory to its role.</p></li>
</ol>
<p>Solving these KKT conditions for <span class="math inline">\(\mathbf{x}^*\)</span>, <span class="math inline">\(\mathbf{v}^*\)</span>, and <span class="math inline">\(\mathbf{u}^*\)</span> gives us the candidate local optimum points. A superscript ‚Äú*‚Äù on a variable typically indicates its optimum value.</p>
<section id="physical-meaning-of-lagrange-multipliers" class="level4">
<h4 class="anchored" data-anchor-id="physical-meaning-of-lagrange-multipliers">Physical Meaning of Lagrange Multipliers</h4>
<p>Lagrange multipliers have an important physical meaning, particularly in engineering design: they represent the <strong>sensitivity of the optimal objective function value to a change in the constraint limit</strong>. This is also referred to as ‚Äúshadow prices‚Äù in economic contexts.</p>
<ul>
<li>For an active inequality constraint <span class="math inline">\(g_j(\mathbf{x}^*) = 0\)</span> with <span class="math inline">\(u_j^* &gt; 0\)</span>, a positive <span class="math inline">\(u_j^*\)</span> indicates that making the constraint slightly more restrictive (e.g., reducing the upper limit <span class="math inline">\(b_j\)</span> in <span class="math inline">\(g_j(\mathbf{x}) \le b_j\)</span>) would <em>increase</em> the minimum objective function value (for a minimization problem). Conversely, relaxing the constraint would decrease the objective. The magnitude of <span class="math inline">\(u_j^*\)</span> quantifies this rate of change.</li>
<li>For an inactive inequality constraint <span class="math inline">\(g_j(\mathbf{x}^*) &lt; 0\)</span>, its corresponding <span class="math inline">\(u_j^*\)</span> is 0, meaning a small change in its limit has no effect on the optimum objective function value, because the design is not ‚Äúhitting‚Äù that constraint.</li>
<li>For equality constraints <span class="math inline">\(h_k(\mathbf{x}^*) = 0\)</span>, <span class="math inline">\(v_k^*\)</span> can be positive, negative, or zero. Its sign indicates whether relaxing or tightening the constraint would increase or decrease the objective.</li>
</ul>
<p>This <strong>post-optimality or sensitivity analysis</strong> is extremely valuable for designers, as it tells them which constraints are critical and how much the design‚Äôs performance would change if those constraints were modified. In Excel Solver, Lagrange multiplier values are sometimes called Shadow Prices, and it‚Äôs important to note that the sign convention in Solver might be opposite to that used in academic texts, requiring a flip to match.</p>
</section>
</section>
<section id="second-order-conditions-brief-mention" class="level3">
<h3 class="anchored" data-anchor-id="second-order-conditions-brief-mention">Second-Order Conditions (Brief Mention)</h3>
<p>The KKT conditions are <em>necessary</em> conditions for a local minimum. This means that if a point is a local minimum, it <em>must</em> satisfy the KKT conditions. However, satisfying the KKT conditions does not <em>guarantee</em> that the point is a local minimum (it could be a local maximum or a saddle point). To confirm that a KKT point is indeed a local minimum, <strong>second-order sufficiency conditions</strong> are needed. These conditions involve the <strong>Hessian matrix of the Lagrangian function</strong>, <span class="math inline">\(\nabla^2 L(\mathbf{x}^*, \mathbf{v}^*, \mathbf{u}^*)\)</span>. For a point to be an isolated local minimum, this Hessian (or a related quadratic form) must be positive definite under certain conditions related to feasible directions. These second-order conditions are more advanced and are typically covered in graduate-level courses.</p>
</section>
<section id="solved-example-minimum-distance-to-origin-with-a-linear-constraint" class="level3">
<h3 class="anchored" data-anchor-id="solved-example-minimum-distance-to-origin-with-a-linear-constraint">Solved Example: Minimum Distance to Origin with a Linear Constraint</h3>
<p>Let‚Äôs apply the KKT conditions to a classic problem:</p>
<p><strong>Problem Statement:</strong> Minimize the square of the distance from the origin to a point <span class="math inline">\((x_1, x_2)\)</span> in a 2D plane, subject to a linear inequality constraint and non-negativity of variables.</p>
<p><strong>Formulation:</strong> <strong>Minimize</strong> <span class="math inline">\(f(x_1, x_2) = x_1^2 + x_2^2\)</span></p>
<p><strong>Subject to:</strong> <span class="math inline">\(g_1: x_1 + x_2 - 1 \le 0\)</span> <span class="math inline">\(g_2: -x_1 \le 0 \quad (\text{i.e., } x_1 \ge 0)\)</span> <span class="math inline">\(g_3: -x_2 \le 0 \quad (\text{i.e., } x_2 \ge 0)\)</span></p>
<section id="step-1-formulate-the-lagrangian-function" class="level4">
<h4 class="anchored" data-anchor-id="step-1-formulate-the-lagrangian-function">Step 1: Formulate the Lagrangian Function</h4>
<p><span class="math inline">\(L(x_1, x_2, u_1, u_2, u_3) = (x_1^2 + x_2^2) + u_1(x_1 + x_2 - 1) + u_2(-x_1) + u_3(-x_2)\)</span></p>
</section>
<section id="step-2-write-down-the-kkt-necessary-conditions" class="level4">
<h4 class="anchored" data-anchor-id="step-2-write-down-the-kkt-necessary-conditions">Step 2: Write Down the KKT Necessary Conditions</h4>
<ol type="1">
<li><p><strong>Gradient conditions</strong>: <span class="math inline">\(\frac{\partial L}{\partial x_1} = 2x_1 + u_1 - u_2 = 0 \quad \text{(a)}\)</span> <span class="math inline">\(\frac{\partial L}{\partial x_2} = 2x_2 + u_1 - u_3 = 0 \quad \text{(b)}\)</span></p></li>
<li><p><strong>Feasibility conditions</strong>: <span class="math inline">\(x_1 + x_2 - 1 \le 0 \quad \text{(c)}\)</span> <span class="math inline">\(-x_1 \le 0 \quad \Rightarrow x_1 \ge 0 \quad \text{(d)}\)</span> <span class="math inline">\(-x_2 \le 0 \quad \Rightarrow x_2 \ge 0 \quad \text{(e)}\)</span></p></li>
<li><p><strong>Complementary slackness conditions</strong>: <span class="math inline">\(u_1(x_1 + x_2 - 1) = 0 \quad \text{(f)}\)</span> <span class="math inline">\(u_2(-x_1) = 0 \quad \text{(g)}\)</span> <span class="math inline">\(u_3(-x_2) = 0 \quad \text{(h)}\)</span></p></li>
<li><p><strong>Non-negativity of multipliers</strong>: <span class="math inline">\(u_1 \ge 0, u_2 \ge 0, u_3 \ge 0 \quad \text{(i)}\)</span></p></li>
</ol>
</section>
<section id="step-3-solve-the-kkt-system-by-considering-different-cases" class="level4">
<h4 class="anchored" data-anchor-id="step-3-solve-the-kkt-system-by-considering-different-cases">Step 3: Solve the KKT System by Considering Different Cases</h4>
<p>We need to consider all possible combinations of active/inactive constraints. The complementary slackness conditions (f), (g), (h) are key here.</p>
<p><strong>Case 1: All inequality constraints are inactive.</strong> If <span class="math inline">\(g_1 &lt; 0\)</span>, <span class="math inline">\(g_2 &lt; 0\)</span>, <span class="math inline">\(g_3 &lt; 0\)</span>, then from complementary slackness (f, g, h), we must have <span class="math inline">\(u_1 = 0, u_2 = 0, u_3 = 0\)</span>. Substitute these into gradient conditions (a) and (b): <span class="math inline">\(2x_1 = 0 \Rightarrow x_1 = 0\)</span> <span class="math inline">\(2x_2 = 0 \Rightarrow x_2 = 0\)</span> So, the candidate point is <span class="math inline">\((0,0)\)</span>. Now, check feasibility condition (c) at <span class="math inline">\((0,0)\)</span>: <span class="math inline">\(0 + 0 - 1 = -1 \le 0\)</span>. This is satisfied. However, we assumed <span class="math inline">\(g_1 &lt; 0\)</span> (i.e., <span class="math inline">\(x_1+x_2-1 &lt; 0\)</span>). At <span class="math inline">\((0,0)\)</span>, <span class="math inline">\(x_1+x_2-1 = -1 &lt; 0\)</span>, which is consistent. So, <span class="math inline">\((x_1, x_2) = (0,0)\)</span> is a KKT point, with <span class="math inline">\(u_1 = u_2 = u_3 = 0\)</span>. The objective function value <span class="math inline">\(f(0,0) = 0^2 + 0^2 = 0\)</span>.</p>
<p><strong>Case 2: Constraint <span class="math inline">\(g_1\)</span> is active, and <span class="math inline">\(g_2, g_3\)</span> are inactive.</strong> If <span class="math inline">\(g_1 = 0\)</span>, then <span class="math inline">\(x_1 + x_2 - 1 = 0 \quad \text{(j)}\)</span> If <span class="math inline">\(g_2 &lt; 0 \Rightarrow x_1 &gt; 0\)</span>, then <span class="math inline">\(u_2 = 0\)</span> (from (g)) If <span class="math inline">\(g_3 &lt; 0 \Rightarrow x_2 &gt; 0\)</span>, then <span class="math inline">\(u_3 = 0\)</span> (from (h))</p>
<p>From (a) and (b) with <span class="math inline">\(u_2=0, u_3=0\)</span>: <span class="math inline">\(2x_1 + u_1 = 0 \Rightarrow u_1 = -2x_1\)</span> <span class="math inline">\(2x_2 + u_1 = 0 \Rightarrow u_1 = -2x_2\)</span> So, <span class="math inline">\(-2x_1 = -2x_2 \Rightarrow x_1 = x_2\)</span>. Substitute <span class="math inline">\(x_1 = x_2\)</span> into (j): <span class="math inline">\(x_1 + x_1 - 1 = 0 \Rightarrow 2x_1 = 1 \Rightarrow x_1 = 0.5\)</span>. So, <span class="math inline">\(x_2 = 0.5\)</span>. The candidate point is <span class="math inline">\((0.5, 0.5)\)</span>. Now, calculate <span class="math inline">\(u_1\)</span>: <span class="math inline">\(u_1 = -2(0.5) = -1\)</span>. However, KKT condition (i) requires <span class="math inline">\(u_1 \ge 0\)</span>. Since <span class="math inline">\(u_1 = -1\)</span>, this case is not a valid KKT point. This means that the optimum cannot occur with <span class="math inline">\(g_1\)</span> active and <span class="math inline">\(x_1, x_2\)</span> strictly positive. This indicates that one or both of <span class="math inline">\(x_1, x_2\)</span> must be zero at the optimum, making <span class="math inline">\(g_2\)</span> or <span class="math inline">\(g_3\)</span> active.</p>
<p><strong>Case 3: Constraints <span class="math inline">\(g_1\)</span> and <span class="math inline">\(g_2\)</span> are active, and <span class="math inline">\(g_3\)</span> is inactive.</strong> If <span class="math inline">\(g_1 = 0\)</span>, then <span class="math inline">\(x_1 + x_2 - 1 = 0 \quad \text{(j)}\)</span> If <span class="math inline">\(g_2 = 0\)</span>, then <span class="math inline">\(-x_1 = 0 \Rightarrow x_1 = 0 \quad \text{(k)}\)</span> If <span class="math inline">\(g_3 &lt; 0 \Rightarrow x_2 &gt; 0\)</span>, then <span class="math inline">\(u_3 = 0\)</span> (from (h))</p>
<p>Substitute <span class="math inline">\(x_1 = 0\)</span> into (j): <span class="math inline">\(0 + x_2 - 1 = 0 \Rightarrow x_2 = 1\)</span>. The candidate point is <span class="math inline">\((0, 1)\)</span>. Check condition <span class="math inline">\(x_2 &gt; 0\)</span>: <span class="math inline">\(1 &gt; 0\)</span>, so consistent. Now, find <span class="math inline">\(u_1, u_2\)</span> (since <span class="math inline">\(u_3=0\)</span>): From (a) with <span class="math inline">\(x_1=0\)</span>: <span class="math inline">\(2(0) + u_1 - u_2 = 0 \Rightarrow u_1 = u_2\)</span>. From (b) with <span class="math inline">\(x_2=1\)</span>: <span class="math inline">\(2(1) + u_1 - u_3 = 0 \Rightarrow 2 + u_1 - 0 = 0 \Rightarrow u_1 = -2\)</span>. This requires <span class="math inline">\(u_1 = -2\)</span>. Since <span class="math inline">\(u_1 \ge 0\)</span> (condition (i)), this is not a valid KKT point.</p>
<p><strong>Case 4: Constraints <span class="math inline">\(g_1\)</span> and <span class="math inline">\(g_3\)</span> are active, and <span class="math inline">\(g_2\)</span> is inactive.</strong> This case is symmetric to Case 3. It would lead to <span class="math inline">\((1,0)\)</span> and <span class="math inline">\(u_1 = -2\)</span>, which is also not a valid KKT point.</p>
<p><strong>Case 5: Constraints <span class="math inline">\(g_2\)</span> and <span class="math inline">\(g_3\)</span> are active, and <span class="math inline">\(g_1\)</span> is inactive.</strong> If <span class="math inline">\(g_2 = 0 \Rightarrow x_1 = 0 \quad \text{(k)}\)</span> If <span class="math inline">\(g_3 = 0 \Rightarrow x_2 = 0 \quad \text{(l)}\)</span> The candidate point is <span class="math inline">\((0,0)\)</span>. This is the same point as in Case 1. The difference is the active constraints. Here, <span class="math inline">\(u_1=0\)</span> (because <span class="math inline">\(g_1\)</span> is inactive). From (a) with <span class="math inline">\(x_1=0, u_1=0\)</span>: <span class="math inline">\(0 + 0 - u_2 = 0 \Rightarrow u_2 = 0\)</span>. From (b) with <span class="math inline">\(x_2=0, u_1=0\)</span>: <span class="math inline">\(0 + 0 - u_3 = 0 \Rightarrow u_3 = 0\)</span>. So, <span class="math inline">\((0,0)\)</span> with <span class="math inline">\(u_1 = 0, u_2 = 0, u_3 = 0\)</span> is a KKT point. <span class="math inline">\(f(0,0)=0\)</span>.</p>
<p><strong>Case 6: Constraints <span class="math inline">\(g_1, g_2, g_3\)</span> are all active.</strong> <span class="math inline">\(x_1 + x_2 - 1 = 0 \quad \text{(j)}\)</span> <span class="math inline">\(x_1 = 0 \quad \text{(k)}\)</span> <span class="math inline">\(x_2 = 0 \quad \text{(l)}\)</span> Substitute (k) and (l) into (j): <span class="math inline">\(0 + 0 - 1 = 0 \Rightarrow -1 = 0\)</span>, which is a contradiction. This means these three constraints cannot be simultaneously active. So, no solution from this case.</p>
<p>Let‚Äôs re-examine Case 2. The issue was <span class="math inline">\(u_1 = -1\)</span>. A correct KKT point from Case 2 would need <span class="math inline">\(u_1 \ge 0\)</span>. So we need to consider combinations where <span class="math inline">\(u_1\)</span> turns out positive.</p>
<p>Let‚Äôs consider the scenario where <span class="math inline">\(g_1\)</span> is active, and <span class="math inline">\(u_1 &gt; 0\)</span>. If <span class="math inline">\(u_1 &gt; 0\)</span>, then <span class="math inline">\(x_1+x_2-1=0\)</span>. From (a) and (b): <span class="math inline">\(2x_1 + u_1 - u_2 = 0\)</span> <span class="math inline">\(2x_2 + u_1 - u_3 = 0\)</span></p>
<p><strong>Subcase 2.1: <span class="math inline">\(g_1\)</span> active, <span class="math inline">\(g_2\)</span> active, <span class="math inline">\(g_3\)</span> inactive (<span class="math inline">\(u_1 &gt; 0, u_2 &gt; 0, u_3 = 0\)</span>)</strong> <span class="math inline">\(x_1 + x_2 - 1 = 0\)</span> <span class="math inline">\(x_1 = 0 \Rightarrow x_2 = 1\)</span> Point is <span class="math inline">\((0,1)\)</span>. From (b) with <span class="math inline">\(x_2=1, u_3=0\)</span>: <span class="math inline">\(2(1) + u_1 = 0 \Rightarrow u_1 = -2\)</span>. Violates <span class="math inline">\(u_1 \ge 0\)</span>. Invalid.</p>
<p><strong>Subcase 2.2: <span class="math inline">\(g_1\)</span> active, <span class="math inline">\(g_3\)</span> active, <span class="math inline">\(g_2\)</span> inactive (<span class="math inline">\(u_1 &gt; 0, u_3 &gt; 0, u_2 = 0\)</span>)</strong> <span class="math inline">\(x_1 + x_2 - 1 = 0\)</span> <span class="math inline">\(x_2 = 0 \Rightarrow x_1 = 1\)</span> Point is <span class="math inline">\((1,0)\)</span>. From (a) with <span class="math inline">\(x_1=1, u_2=0\)</span>: <span class="math inline">\(2(1) + u_1 = 0 \Rightarrow u_1 = -2\)</span>. Violates <span class="math inline">\(u_1 \ge 0\)</span>. Invalid.</p>
<p><strong>Subcase 2.3: <span class="math inline">\(g_1\)</span> active, <span class="math inline">\(g_2\)</span> inactive, <span class="math inline">\(g_3\)</span> inactive (<span class="math inline">\(u_1 &gt; 0, u_2 = 0, u_3 = 0\)</span>)</strong> <span class="math inline">\(x_1 + x_2 - 1 = 0\)</span> From (a): <span class="math inline">\(2x_1 + u_1 = 0 \Rightarrow u_1 = -2x_1\)</span> From (b): <span class="math inline">\(2x_2 + u_1 = 0 \Rightarrow u_1 = -2x_2\)</span> So <span class="math inline">\(x_1 = x_2\)</span>. Substitute into <span class="math inline">\(x_1 + x_2 - 1 = 0 \Rightarrow 2x_1 = 1 \Rightarrow x_1 = 0.5\)</span>. Thus <span class="math inline">\(x_2 = 0.5\)</span>. Point is <span class="math inline">\((0.5, 0.5)\)</span>. <span class="math inline">\(u_1 = -2(0.5) = -1\)</span>. Violates <span class="math inline">\(u_1 \ge 0\)</span>. Invalid.</p>
<p>It seems I made a mistake by prematurely dismissing <span class="math inline">\((0,0)\)</span> as a single valid point. Let‚Äôs look closer at the problem.</p>
<p>The objective is <span class="math inline">\(f(x_1, x_2) = x_1^2 + x_2^2\)</span>, which is minimized at <span class="math inline">\((0,0)\)</span>. The feasible region is the area <span class="math inline">\(x_1+x_2 \le 1\)</span> in the first quadrant (<span class="math inline">\(x_1 \ge 0, x_2 \ge 0\)</span>). The point <span class="math inline">\((0,0)\)</span> <em>is</em> in the feasible region, and <span class="math inline">\(f(0,0)=0\)</span>.</p>
<p>Let‚Äôs check the point <span class="math inline">\((0.5, 0.5)\)</span> again carefully. At <span class="math inline">\((0.5, 0.5)\)</span>, <span class="math inline">\(g_1 = 0.5 + 0.5 - 1 = 0\)</span>. So <span class="math inline">\(g_1\)</span> is active. <span class="math inline">\(g_2 = -0.5 &lt; 0\)</span>. So <span class="math inline">\(g_2\)</span> is inactive, meaning <span class="math inline">\(u_2 = 0\)</span>. <span class="math inline">\(g_3 = -0.5 &lt; 0\)</span>. So <span class="math inline">\(g_3\)</span> is inactive, meaning <span class="math inline">\(u_3 = 0\)</span>. From KKT (a): <span class="math inline">\(2x_1 + u_1 - u_2 = 0 \Rightarrow 2(0.5) + u_1 - 0 = 0 \Rightarrow 1 + u_1 = 0 \Rightarrow u_1 = -1\)</span>. Since <span class="math inline">\(u_1\)</span> must be <span class="math inline">\(\ge 0\)</span>, this point <span class="math inline">\((0.5, 0.5)\)</span> is <strong>not a valid KKT point</strong>. This means that if <span class="math inline">\(x_1, x_2 &gt; 0\)</span>, the optimum cannot be on the line <span class="math inline">\(x_1+x_2=1\)</span>.</p>
<p>The only remaining valid KKT point is <span class="math inline">\((0,0)\)</span> from Case 1 (or Case 5 which leads to the same point and multipliers). At <span class="math inline">\((0,0)\)</span>: <span class="math inline">\(g_1 = 0+0-1 = -1 \le 0\)</span> (inactive, so <span class="math inline">\(u_1=0\)</span>) <span class="math inline">\(g_2 = -0 = 0 \le 0\)</span> (active, so <span class="math inline">\(u_2 \ge 0\)</span>) <span class="math inline">\(g_3 = -0 = 0 \le 0\)</span> (active, so <span class="math inline">\(u_3 \ge 0\)</span>)</p>
<p>With <span class="math inline">\(u_1=0\)</span>: From (a): <span class="math inline">\(2x_1 + 0 - u_2 = 0 \Rightarrow 2x_1 = u_2\)</span>. At <span class="math inline">\((0,0)\)</span>, <span class="math inline">\(u_2 = 0\)</span>. From (b): <span class="math inline">\(2x_2 + 0 - u_3 = 0 \Rightarrow 2x_2 = u_3\)</span>. At <span class="math inline">\((0,0)\)</span>, <span class="math inline">\(u_3 = 0\)</span>. So, <span class="math inline">\(u_1=0, u_2=0, u_3=0\)</span>. All non-negativity conditions for multipliers are met. Thus, <span class="math inline">\(\mathbf{x}^* = (0,0)\)</span> is a valid KKT point, with <span class="math inline">\(f(\mathbf{x}^*) = 0\)</span>.</p>
<p>This result is consistent: the unconstrained minimum <span class="math inline">\((0,0)\)</span> is within the feasible region (<span class="math inline">\(0+0-1 \le 0\)</span>, <span class="math inline">\(0 \ge 0\)</span>, <span class="math inline">\(0 \ge 0\)</span>), so the constraints do not restrict the optimal solution, and thus the Lagrange multipliers are all zero. The constraints are ‚Äúslack‚Äù or ‚Äúnon-binding‚Äù at the true optimum for this specific problem.</p>
</section>
<section id="conclusion-for-the-example" class="level4">
<h4 class="anchored" data-anchor-id="conclusion-for-the-example">Conclusion for the Example</h4>
<p>The only point that satisfies all KKT conditions is <strong><span class="math inline">\(\mathbf{x}^* = (0,0)\)</span></strong>, with the objective function value <span class="math inline">\(f(\mathbf{x}^*) = 0\)</span>. The Lagrange multipliers are <span class="math inline">\(u_1^* = 0\)</span>, <span class="math inline">\(u_2^* = 0\)</span>, and <span class="math inline">\(u_3^* = 0\)</span>. This indicates that none of the constraints are actively ‚Äúpushing‚Äù the solution away from the origin; the unconstrained minimum is already feasible.</p>
<hr>
<p>This concludes our introduction to Lagrangian Methods and the KKT conditions. These analytical tools are foundational for understanding and developing more advanced numerical methods for constrained optimization, which we will explore in subsequent lectures. While solving KKT conditions algebraically can be complex for highly nonlinear problems, the principles provide profound insights into the nature of optimal design solutions.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../documents/06-Lecture_04.html" class="pagination-link" aria-label="Lecture 4: Linear Programming">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Lecture 4: Linear Programming</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../documents/08-Lecture_06.html" class="pagination-link" aria-label="Lecture 6: Numerical Methods">
        <span class="nav-page-text">Lecture 6: Numerical Methods</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>